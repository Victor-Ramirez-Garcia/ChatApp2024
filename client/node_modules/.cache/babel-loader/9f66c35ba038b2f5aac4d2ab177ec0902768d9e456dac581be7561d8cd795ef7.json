{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\vramirez3678\\\\Documents\\\\Portland State University\\\\Winter Term 2024\\\\CS314\\\\Term Project\\\\ChatApp2024\\\\client\\\\src\\\\views\\\\createChat.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport CreateChatComponent from '../components/CreateChatComponent';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport function CreateChat(props) {\n  _s();\n  const {\n    user\n  } = props;\n  // Navigation function to go to different routes\n  const navigate = useNavigate();\n  // Error state variable \n  const [errors, setErrors] = useState([]);\n\n  // Empty user handler\n  useEffect(() => {\n    if (Object.keys(user).length === 0) navigate(\"/\");\n  }, [user, navigate]);\n  const createChat = (e, formInfo) => {\n    e.preventDefault();\n    formInfo.user = user;\n    axios.post(\"http://localhost:8000/api/chats/create\", formInfo).then(() => {\n      navigate(\"/main\");\n    }).catch(err => {\n      console.log(err);\n      const errorArr = [];\n      if (err.status === 400) {\n        for (const key of Object.keys(err.response.data.errors)) errorArr.push([err.response.data.errors[key].path, err.response.data.errors[key].message]);\n      }\n      setErrors(errorArr);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Create Chat\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(CreateChatComponent, {\n      onSubmitHandler: createChat,\n      onClickHandler: () => {\n        navigate(\"/main\");\n      },\n      errors: errors\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n}\n_s(CreateChat, \"eDTwgchYte1AqNCGO8ZVBrIKLnQ=\", false, function () {\n  return [useNavigate];\n});\n_c = CreateChat;\nvar _c;\n$RefreshReg$(_c, \"CreateChat\");","map":{"version":3,"names":["React","useEffect","useState","axios","useNavigate","CreateChatComponent","jsxDEV","_jsxDEV","Fragment","_Fragment","CreateChat","props","_s","user","navigate","errors","setErrors","Object","keys","length","createChat","e","formInfo","preventDefault","post","then","catch","err","console","log","errorArr","status","key","response","data","push","path","message","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmitHandler","onClickHandler","_c","$RefreshReg$"],"sources":["C:/Users/vramirez3678/Documents/Portland State University/Winter Term 2024/CS314/Term Project/ChatApp2024/client/src/views/createChat.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport CreateChatComponent from '../components/CreateChatComponent';\r\n\r\nexport function CreateChat(props) {\r\n    const { user } = props;\r\n    // Navigation function to go to different routes\r\n    const navigate = useNavigate();\r\n    // Error state variable \r\n    const [errors, setErrors] = useState([]);\r\n    \r\n    // Empty user handler\r\n    useEffect(() => {\r\n        if (Object.keys(user).length === 0)\r\n            navigate(\"/\");\r\n    }, [user, navigate]);\r\n    \r\n    const createChat = (e, formInfo) => {\r\n        e.preventDefault();\r\n        formInfo.user = user;\r\n        axios.post(\"http://localhost:8000/api/chats/create\", formInfo)\r\n        .then(() => {\r\n            navigate(\"/main\");\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n            const errorArr = [];\r\n\r\n            if (err.status === 400)\r\n            {\r\n                for (const key of Object.keys(err.response.data.errors))\r\n                    errorArr.push([err.response.data.errors[key].path, err.response.data.errors[key].message]);\r\n            }\r\n            setErrors(errorArr);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <h1>Create Chat</h1>\r\n            <CreateChatComponent onSubmitHandler={createChat} onClickHandler={() => {navigate(\"/main\")}} errors={errors} />\r\n        </>\r\n    )\r\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,mBAAmB,MAAM,mCAAmC;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpE,OAAO,SAASC,UAAUA,CAACC,KAAK,EAAE;EAAAC,EAAA;EAC9B,MAAM;IAAEC;EAAK,CAAC,GAAGF,KAAK;EACtB;EACA,MAAMG,QAAQ,GAAGV,WAAW,CAAC,CAAC;EAC9B;EACA,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;;EAExC;EACAD,SAAS,CAAC,MAAM;IACZ,IAAIgB,MAAM,CAACC,IAAI,CAACL,IAAI,CAAC,CAACM,MAAM,KAAK,CAAC,EAC9BL,QAAQ,CAAC,GAAG,CAAC;EACrB,CAAC,EAAE,CAACD,IAAI,EAAEC,QAAQ,CAAC,CAAC;EAEpB,MAAMM,UAAU,GAAGA,CAACC,CAAC,EAAEC,QAAQ,KAAK;IAChCD,CAAC,CAACE,cAAc,CAAC,CAAC;IAClBD,QAAQ,CAACT,IAAI,GAAGA,IAAI;IACpBV,KAAK,CAACqB,IAAI,CAAC,wCAAwC,EAAEF,QAAQ,CAAC,CAC7DG,IAAI,CAAC,MAAM;MACRX,QAAQ,CAAC,OAAO,CAAC;IACrB,CAAC,CAAC,CACDY,KAAK,CAAEC,GAAG,IAAK;MACZC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChB,MAAMG,QAAQ,GAAG,EAAE;MAEnB,IAAIH,GAAG,CAACI,MAAM,KAAK,GAAG,EACtB;QACI,KAAK,MAAMC,GAAG,IAAIf,MAAM,CAACC,IAAI,CAACS,GAAG,CAACM,QAAQ,CAACC,IAAI,CAACnB,MAAM,CAAC,EACnDe,QAAQ,CAACK,IAAI,CAAC,CAACR,GAAG,CAACM,QAAQ,CAACC,IAAI,CAACnB,MAAM,CAACiB,GAAG,CAAC,CAACI,IAAI,EAAET,GAAG,CAACM,QAAQ,CAACC,IAAI,CAACnB,MAAM,CAACiB,GAAG,CAAC,CAACK,OAAO,CAAC,CAAC;MAClG;MACArB,SAAS,CAACc,QAAQ,CAAC;IACvB,CAAC,CAAC;EACN,CAAC;EAED,oBACIvB,OAAA,CAAAE,SAAA;IAAA6B,QAAA,gBACI/B,OAAA;MAAA+B,QAAA,EAAI;IAAW;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACpBnC,OAAA,CAACF,mBAAmB;MAACsC,eAAe,EAAEvB,UAAW;MAACwB,cAAc,EAAEA,CAAA,KAAM;QAAC9B,QAAQ,CAAC,OAAO,CAAC;MAAA,CAAE;MAACC,MAAM,EAAEA;IAAO;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EAAA,eACjH,CAAC;AAEX;AAAC9B,EAAA,CAvCeF,UAAU;EAAA,QAGLN,WAAW;AAAA;AAAAyC,EAAA,GAHhBnC,UAAU;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}